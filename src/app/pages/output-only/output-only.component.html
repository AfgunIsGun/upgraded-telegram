<div class="container">
  @switch (status()) {
    @case ('loading') {
      <div class="loading-container">
        <p>Loading translation for "{{ inputText() }}"...</p>
      </div>
    }
    @case ('preview') {
      @if (pose(); as poseSrc) {
        <div class="pose-container">
          @switch (poseViewerSetting()) {
            @case ('pose') { <app-skeleton-pose-viewer [src]="poseSrc" /> }
            @case ('person') { <app-human-pose-viewer [src]="poseSrc" /> }
            @case ('avatar') { <app-avatar-pose-viewer [src]="poseSrc" /> }
          }
        </div>
      } @else {
        <div class="loading-container">
          <p>Generating preview for "{{ inputText() }}"...</p>
        </div>
      }
    }
    @case ('translating') {
      @if (videoUrl(); as video) {
        <div class="video-container">
          <video #videoPlayer [src]="video" autoplay playsinline (ended)="onVideoEnded()"></video>
        </div>
      } @else {
        <div class="loading-container">
          <p>Generating video for "{{ inputText() }}"...</p>
        </div>
      }
    }
    @case ('error') {
      <div class="error-container">
        <p>{{ error() }}</p>
        <button (click)="retry()">Retry</button>
      </div>
    }
    @case ('idle') {
      <div class="idle-container">
        <p>Waiting for translation request...</p>
      </div>
    }
  }
</div>
